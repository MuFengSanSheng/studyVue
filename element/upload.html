<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <style type="text/css"></style>
</head>

<body>
  <div class="app">

    <el-upload class="uploader" :action="url" list-type="picture-card"
      :data='postdata' 
      accept="image/*"
      :limit=1
      show-file-list
      :on-preview="handlePictureCardPreview"  
      :on-remove="handleRemove" 
      :on-success="handleSuccess"      
    >
      <i class="el-icon-plus"></i>
    </el-upload>
    <el-dialog :visible.sync="dialogVisible">
      <img width="100%" :src="dialogImageUrl" alt="">
    </el-dialog>

  </div>

</body>
<!-- 引入组件库 -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
  const vm = new Vue({
    el: '.app',
    data: {
      dialogImageUrl: '',
      dialogVisible: false,
      postdata:{
        TypeId:1
      },
      url:"http://test.truckego.com/api/shop/cooapps/LimitApps/uploadimage"
    },
    methods: {
      handleRemove(file, fileList) {
        console.log(file, fileList);
      },
      handlePictureCardPreview(file) {
        this.dialogImageUrl = file.url;
        this.dialogVisible = true;
      },
      handleSuccess(response, file, fileList){
        console.log('response:',response)
        console.log('file:',file)
        console.log('fileList:',fileList)
      }
    }
  })
</script>

</html>